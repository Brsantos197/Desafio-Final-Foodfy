{% extends "admin-layout.njk" %}

{% block content %}

<div class="title-header">
    <h1>Atualizando Usu√°rio</h1>
    <div>
        <button type="submit" class="form-delete" form="form-delete"  >Deletar</button>
        <button type="submit" form="form-submit" >Salvar</button>
    </div>
</div>

<form method="POST" action="/admin/users?_method=PUT" id="form-submit" >
    <div class="user-fields">
        {% include 'admin/users/fields.njk' %}
    </div>
    <input type="hidden" name="id" value="{{ user.id }}">

</form>
<form id="form-delete" action="/admin/users?_method=DELETE" method="POST">
    <input type="hidden" name="id" value="{{ user.id }}">
</form>

<script>

    const formDelete = document.querySelector('#form-delete')
    formDelete.addEventListener("submit", function(event) {
        const confirmation = confirm("Desejar deletar?")
        if (!confirmation) {
            event.preventDefault()
        }
    })

</script>

{% endblock %}
 